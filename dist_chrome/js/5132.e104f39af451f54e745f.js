"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[5132],{85132:(e,t,r)=>{r.d(t,{AU:()=>g,kL:()=>b,g3:()=>v});var n=r(83215),o=r(90060),i=r(15654),a=r(35388),u=r(7247),s=(r(14816),(0,i.Hx)(),function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},l=(0,i.Hx)(),f=function(e,t){var r,n,o,i,u,f,p,d;return u=void 0,f=void 0,d=function(){var u,f,p;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(d){switch(d.label){case 0:return r=e.service_parameters,n=r.providerControlParameters,o=c(r,["providerControlParameters"]),i=c(e,["service_parameters"]),[4,l.post(a.Vs+"/orders/")];case 1:return u=d.sent(),(f={}).count=1,f=s(s(s({},f),i),{service_parameters:o,provider_control_parameters:n||{}}),[4,l.post(a.Vs+"/orders/"+u.id+"/order_items/",s({id:u.id,name:"orderItem_"+u.id,portfolio_item:t.id},f))];case 2:return p=d.sent(),[2,l.post(a.Vs+"/orders/"+u.id+"/submit/").then((function(e){return s(s({},e),{orderItem:p})}))]}}))},new((p=void 0)||(p=Promise))((function(e,t){function r(e){try{o(d.next(e))}catch(e){t(e)}}function n(e){try{o(d.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof p?o:new p((function(e){e(o)}))).then(r,n)}o((d=d.apply(u,f||[])).next())}))},p=r(69048),d=(r(80758),r(47126)),y=r(30624),m=r.n(y),h=function(){return(h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e){return{type:o._f,payload:(0,d.Gq)(e)}},v=function(e,t){return function(r){return r({type:o.LL,payload:f(e,t).then((function(e){var o=e.id,i=e.orderItem;return r((0,n.wN)({variant:"success",title:"Your order has been accepted successfully",description:m().createElement(p.Z,{id:o,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:i.id}),dismissable:!0}))}))})}},g=function(e,t){return void 0===t&&(t=u.he),function(r){var n=Object.entries(e).filter((function(e){var t=e[1];return t&&t.length>0})).map((function(e){var t=e[0],r=e[1];return Array.isArray(r)?r.map((function(e){return t+"="+e})).join("&"):t+"="+r})).join("&");return t.sortBy&&(n=n+"&sort_by="+t.sortBy+":"+(t.sortDirection||"desc")),r({type:o.m7+"_PENDING"}),function(e,t){return void 0===e&&(e=""),void 0===t&&(t=u.he),l.get(a.Vs+"/orders/"+e+((null==e?void 0:e.length)>1?"&":"?")+"page_size="+t.limit+"&page="+(t.offset||1)).then((function(e){return console.log("Debug - orders: ",e),(t=e.results.map((function(e){return e.id})),l.get(a.Vs+"/order_items/?page-size="+(3*t.length||u.he.limit)+(t.length?"&":"")+t.map((function(e){return"order_id="+e})).join("&"))).then((function(t){return console.log("Debug - orderItems: ",t),(r=t.results.map((function(e){return e.portfolio_item})),l.get(a.Vs+"/portfolio_items/?"+r.map((function(e){return"id="+e})).join("&"))).then((function(r){return console.log("Debug - portfolioItems: ",r),s(s({portfolioItems:r},e),{data:e.results.map((function(e){return s(s({},e),{orderItems:t.results.filter((function(t){return t.order===e.id}))})}))})}));var r}));var t}))}(n,t).then((function(i){var a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(i,[]);return r({type:o.m7+"_FULFILLED",meta:h(h({},t),{filter:n,filters:e,storeState:!0,stateKey:"orders"}),payload:a})})).catch((function(e){return r({type:o.m7+"_REJECTED",payload:e})}))}}}}]);
//# sourceMappingURL=../sourcemaps/5132.1910fc3c46f22ba9c938c712dd37760f.js.map